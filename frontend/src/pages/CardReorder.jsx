import React, { useState, useEffect } from "react";
import { DndProvider, useDrag, useDrop } from "react-dnd";
import { HTML5Backend } from "react-dnd-html5-backend";
import axios from "axios";
import "../css/card.css"; 
import useAuth from "../context/auth";

const Card = ({ card, index, moveCard,fetchCardLists }) => {
  const [, ref] = useDrag({
    type: "CARD",
    item: { index },
  });

  const [, drop] = useDrop({
    accept: "CARD",
    hover: (draggedItem) => {
      if (draggedItem.index !== index) {
        moveCard(draggedItem.index, index);
        draggedItem.index = index;
      }
    },
  });

  return (
    <div onClick={() => fetchCardLists(card._id)} ref={(node) => drop(ref(node))} className="card">
    <img src={card?.image} alt="#" />
   <div style={{
    position:"relative",
    bottom:"70px",
    left:"-52px",
    color : "white"
   }}> <svg width="184" height="26" viewBox="0 0 184 26" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0.805908 0H8.80591C15.9856 0 21.8059 5.8203 21.8059 13C21.8059 20.1797 15.9856 26 8.80591 26H0.805908V0Z" fill="#017EFA"/>
<path d="M28.7027 17.5C28.6093 17.5 28.53 17.4673 28.4647 17.402C28.3993 17.3367 28.3667 17.2573 28.3667 17.164V8.05C28.3667 7.94733 28.3993 7.86333 28.4647 7.798C28.53 7.73267 28.6093 7.7 28.7027 7.7H32.4547C33.1827 7.7 33.8173 7.81667 34.3587 8.05C34.9 8.274 35.32 8.61933 35.6187 9.086C35.9173 9.54333 36.0667 10.1173 36.0667 10.808C36.0667 11.508 35.9173 12.0867 35.6187 12.544C35.32 12.992 34.9 13.328 34.3587 13.552C33.8173 13.776 33.1827 13.888 32.4547 13.888H30.3687V17.164C30.3687 17.2573 30.336 17.3367 30.2707 17.402C30.2147 17.4673 30.1353 17.5 30.0327 17.5H28.7027ZM30.3407 12.334H32.3847C32.926 12.334 33.3413 12.208 33.6307 11.956C33.92 11.6947 34.0647 11.312 34.0647 10.808C34.0647 10.3413 33.9293 9.968 33.6587 9.688C33.388 9.39867 32.9633 9.254 32.3847 9.254H30.3407V12.334ZM37.7632 17.5C37.6698 17.5 37.5905 17.4673 37.5252 17.402C37.4598 17.3367 37.4272 17.2573 37.4272 17.164V10.57C37.4272 10.4673 37.4598 10.3833 37.5252 10.318C37.5905 10.2527 37.6698 10.22 37.7632 10.22H38.8972C38.9905 10.22 39.0698 10.2527 39.1352 10.318C39.2098 10.3833 39.2472 10.4673 39.2472 10.57V11.144C39.4618 10.8453 39.7372 10.6167 40.0732 10.458C40.4185 10.2993 40.8152 10.22 41.2632 10.22H41.8372C41.9398 10.22 42.0192 10.2527 42.0752 10.318C42.1405 10.3833 42.1732 10.4627 42.1732 10.556V11.564C42.1732 11.6573 42.1405 11.7367 42.0752 11.802C42.0192 11.8673 41.9398 11.9 41.8372 11.9H40.7452C40.2972 11.9 39.9472 12.026 39.6952 12.278C39.4525 12.53 39.3312 12.8753 39.3312 13.314V17.164C39.3312 17.2573 39.2985 17.3367 39.2332 17.402C39.1678 17.4673 39.0838 17.5 38.9812 17.5H37.7632ZM46.3894 17.64C45.6427 17.64 45.0127 17.5093 44.4994 17.248C43.9954 16.9867 43.608 16.618 43.3374 16.142C43.076 15.666 42.9267 15.1107 42.8894 14.476C42.88 14.308 42.8754 14.1027 42.8754 13.86C42.8754 13.6173 42.88 13.412 42.8894 13.244C42.9267 12.6 43.0807 12.0447 43.3514 11.578C43.6314 11.102 44.0234 10.7333 44.5274 10.472C45.0407 10.2107 45.6614 10.08 46.3894 10.08C47.1174 10.08 47.7334 10.2107 48.2374 10.472C48.7507 10.7333 49.1427 11.102 49.4134 11.578C49.6934 12.0447 49.852 12.6 49.8894 13.244C49.8987 13.412 49.9034 13.6173 49.9034 13.86C49.9034 14.1027 49.8987 14.308 49.8894 14.476C49.852 15.1107 49.698 15.666 49.4274 16.142C49.166 16.618 48.7787 16.9867 48.2654 17.248C47.7614 17.5093 47.136 17.64 46.3894 17.64ZM46.3894 16.254C46.884 16.254 47.2667 16.1 47.5374 15.792C47.808 15.4747 47.9574 15.0127 47.9854 14.406C47.9947 14.266 47.9994 14.084 47.9994 13.86C47.9994 13.636 47.9947 13.454 47.9854 13.314C47.9574 12.7167 47.808 12.2593 47.5374 11.942C47.2667 11.6247 46.884 11.466 46.3894 11.466C45.8947 11.466 45.512 11.6247 45.2414 11.942C44.9707 12.2593 44.8214 12.7167 44.7934 13.314C44.784 13.454 44.7794 13.636 44.7794 13.86C44.7794 14.084 44.784 14.266 44.7934 14.406C44.8214 15.0127 44.9707 15.4747 45.2414 15.792C45.512 16.1 45.8947 16.254 46.3894 16.254ZM54.1565 17.64C53.6712 17.64 53.2419 17.5607 52.8685 17.402C52.5045 17.234 52.2012 17.0007 51.9585 16.702C51.7159 16.4033 51.5292 16.0533 51.3985 15.652C51.2679 15.2413 51.1932 14.7933 51.1745 14.308C51.1652 14.14 51.1605 13.9907 51.1605 13.86C51.1605 13.72 51.1652 13.566 51.1745 13.398C51.1932 12.9313 51.2632 12.4973 51.3845 12.096C51.5152 11.6947 51.7019 11.3447 51.9445 11.046C52.1965 10.738 52.5045 10.5 52.8685 10.332C53.2419 10.164 53.6712 10.08 54.1565 10.08C54.6605 10.08 55.0852 10.1687 55.4305 10.346C55.7852 10.514 56.0792 10.7333 56.3125 11.004V7.896C56.3125 7.80267 56.3405 7.72333 56.3965 7.658C56.4619 7.59267 56.5459 7.56 56.6485 7.56H57.8385C57.9319 7.56 58.0112 7.59267 58.0765 7.658C58.1419 7.72333 58.1745 7.80267 58.1745 7.896V17.164C58.1745 17.2573 58.1419 17.3367 58.0765 17.402C58.0112 17.4673 57.9319 17.5 57.8385 17.5H56.7325C56.6299 17.5 56.5459 17.4673 56.4805 17.402C56.4245 17.3367 56.3965 17.2573 56.3965 17.164V16.646C56.1632 16.9353 55.8645 17.1733 55.5005 17.36C55.1459 17.5467 54.6979 17.64 54.1565 17.64ZM54.6745 16.142C55.0665 16.142 55.3792 16.0533 55.6125 15.876C55.8459 15.6987 56.0185 15.4747 56.1305 15.204C56.2425 14.924 56.3032 14.6393 56.3125 14.35C56.3219 14.182 56.3265 14.0047 56.3265 13.818C56.3265 13.622 56.3219 13.44 56.3125 13.272C56.3032 12.992 56.2379 12.726 56.1165 12.474C55.9952 12.2127 55.8179 11.998 55.5845 11.83C55.3512 11.662 55.0479 11.578 54.6745 11.578C54.2825 11.578 53.9699 11.6667 53.7365 11.844C53.5125 12.012 53.3492 12.236 53.2465 12.516C53.1439 12.796 53.0832 13.104 53.0645 13.44C53.0552 13.72 53.0552 14 53.0645 14.28C53.0832 14.616 53.1439 14.924 53.2465 15.204C53.3492 15.484 53.5125 15.7127 53.7365 15.89C53.9699 16.058 54.2825 16.142 54.6745 16.142ZM62.7425 17.64C62.1731 17.64 61.6785 17.514 61.2585 17.262C60.8478 17.0007 60.5305 16.6367 60.3065 16.17C60.0825 15.694 59.9705 15.134 59.9705 14.49V10.556C59.9705 10.4627 60.0031 10.3833 60.0685 10.318C60.1338 10.2527 60.2131 10.22 60.3065 10.22H61.5385C61.6411 10.22 61.7205 10.2527 61.7765 10.318C61.8418 10.3833 61.8745 10.4627 61.8745 10.556V14.406C61.8745 15.5633 62.3831 16.142 63.4005 16.142C63.8858 16.142 64.2685 15.988 64.5485 15.68C64.8378 15.372 64.9825 14.9473 64.9825 14.406V10.556C64.9825 10.4627 65.0151 10.3833 65.0805 10.318C65.1458 10.2527 65.2251 10.22 65.3185 10.22H66.5505C66.6438 10.22 66.7231 10.2527 66.7885 10.318C66.8538 10.3833 66.8865 10.4627 66.8865 10.556V17.164C66.8865 17.2573 66.8538 17.3367 66.7885 17.402C66.7231 17.4673 66.6438 17.5 66.5505 17.5H65.4165C65.3138 17.5 65.2298 17.4673 65.1645 17.402C65.1085 17.3367 65.0805 17.2573 65.0805 17.164V16.59C64.8285 16.9167 64.5158 17.1733 64.1425 17.36C63.7691 17.5467 63.3025 17.64 62.7425 17.64ZM71.8858 17.64C71.2138 17.64 70.6211 17.514 70.1078 17.262C69.6038 17.01 69.2071 16.646 68.9178 16.17C68.6378 15.6847 68.4838 15.1013 68.4558 14.42C68.4464 14.28 68.4418 14.098 68.4418 13.874C68.4418 13.6407 68.4464 13.4493 68.4558 13.3C68.4838 12.6187 68.6378 12.04 68.9178 11.564C69.2071 11.0787 69.6038 10.71 70.1078 10.458C70.6211 10.206 71.2138 10.08 71.8858 10.08C72.4831 10.08 72.9918 10.164 73.4118 10.332C73.8318 10.5 74.1771 10.71 74.4478 10.962C74.7184 11.214 74.9191 11.48 75.0498 11.76C75.1898 12.0307 75.2644 12.278 75.2738 12.502C75.2831 12.6047 75.2504 12.6887 75.1758 12.754C75.1104 12.81 75.0311 12.838 74.9378 12.838H73.7058C73.6124 12.838 73.5378 12.8147 73.4818 12.768C73.4351 12.7213 73.3884 12.6513 73.3418 12.558C73.2018 12.1847 73.0151 11.9233 72.7818 11.774C72.5578 11.6153 72.2684 11.536 71.9138 11.536C71.4471 11.536 71.0738 11.6853 70.7938 11.984C70.5231 12.2733 70.3784 12.7353 70.3598 13.37C70.3411 13.7247 70.3411 14.0513 70.3598 14.35C70.3784 14.994 70.5231 15.4607 70.7938 15.75C71.0738 16.0393 71.4471 16.184 71.9138 16.184C72.2778 16.184 72.5718 16.1093 72.7958 15.96C73.0198 15.8013 73.2018 15.5353 73.3418 15.162C73.3884 15.0687 73.4351 14.9987 73.4818 14.952C73.5378 14.9053 73.6124 14.882 73.7058 14.882H74.9378C75.0311 14.882 75.1104 14.9147 75.1758 14.98C75.2504 15.036 75.2831 15.1153 75.2738 15.218C75.2644 15.386 75.2178 15.5773 75.1338 15.792C75.0591 15.9973 74.9331 16.212 74.7558 16.436C74.5878 16.6507 74.3731 16.8513 74.1118 17.038C73.8504 17.2153 73.5331 17.36 73.1598 17.472C72.7958 17.584 72.3711 17.64 71.8858 17.64ZM80.0238 17.5C79.4638 17.5 78.9925 17.402 78.6098 17.206C78.2271 17.01 77.9425 16.7207 77.7558 16.338C77.5691 15.946 77.4758 15.4607 77.4758 14.882V11.704H76.3698C76.2765 11.704 76.1971 11.6713 76.1318 11.606C76.0665 11.5407 76.0338 11.4613 76.0338 11.368V10.556C76.0338 10.4627 76.0665 10.3833 76.1318 10.318C76.1971 10.2527 76.2765 10.22 76.3698 10.22H77.4758V7.896C77.4758 7.80267 77.5038 7.72333 77.5598 7.658C77.6251 7.59267 77.7091 7.56 77.8118 7.56H78.9458C79.0391 7.56 79.1185 7.59267 79.1838 7.658C79.2491 7.72333 79.2818 7.80267 79.2818 7.896V10.22H81.0318C81.1251 10.22 81.2045 10.2527 81.2698 10.318C81.3351 10.3833 81.3678 10.4627 81.3678 10.556V11.368C81.3678 11.4613 81.3351 11.5407 81.2698 11.606C81.2045 11.6713 81.1251 11.704 81.0318 11.704H79.2818V14.742C79.2818 15.1247 79.3471 15.4233 79.4778 15.638C79.6178 15.8527 79.8558 15.96 80.1918 15.96H81.1578C81.2511 15.96 81.3305 15.9927 81.3958 16.058C81.4611 16.1233 81.4938 16.2027 81.4938 16.296V17.164C81.4938 17.2573 81.4611 17.3367 81.3958 17.402C81.3305 17.4673 81.2511 17.5 81.1578 17.5H80.0238ZM86.439 17.5C86.3457 17.5 86.2663 17.4673 86.201 17.402C86.1357 17.3367 86.103 17.2573 86.103 17.164V8.05C86.103 7.94733 86.1357 7.86333 86.201 7.798C86.2663 7.73267 86.3457 7.7 86.439 7.7H90.191C90.919 7.7 91.5537 7.81667 92.095 8.05C92.6363 8.274 93.0563 8.61933 93.355 9.086C93.6537 9.54333 93.803 10.1173 93.803 10.808C93.803 11.508 93.6537 12.0867 93.355 12.544C93.0563 12.992 92.6363 13.328 92.095 13.552C91.5537 13.776 90.919 13.888 90.191 13.888H88.105V17.164C88.105 17.2573 88.0723 17.3367 88.007 17.402C87.951 17.4673 87.8717 17.5 87.769 17.5H86.439ZM88.077 12.334H90.121C90.6623 12.334 91.0777 12.208 91.367 11.956C91.6563 11.6947 91.801 11.312 91.801 10.808C91.801 10.3413 91.6657 9.968 91.395 9.688C91.1243 9.39867 90.6997 9.254 90.121 9.254H88.077V12.334ZM95.5135 17.5C95.4202 17.5 95.3408 17.4673 95.2755 17.402C95.2102 17.3367 95.1775 17.2573 95.1775 17.164V7.896C95.1775 7.80267 95.2102 7.72333 95.2755 7.658C95.3408 7.59267 95.4202 7.56 95.5135 7.56H96.6755C96.7688 7.56 96.8482 7.59267 96.9135 7.658C96.9788 7.72333 97.0115 7.80267 97.0115 7.896V17.164C97.0115 17.2573 96.9788 17.3367 96.9135 17.402C96.8482 17.4673 96.7688 17.5 96.6755 17.5H95.5135ZM100.983 17.64C100.497 17.64 100.059 17.5467 99.6666 17.36C99.2746 17.164 98.9619 16.9073 98.7286 16.59C98.5046 16.2633 98.3926 15.8993 98.3926 15.498C98.3926 14.8447 98.6539 14.3267 99.1766 13.944C99.7086 13.552 100.409 13.2907 101.277 13.16L103.195 12.88V12.586C103.195 12.194 103.097 11.8907 102.901 11.676C102.705 11.4613 102.369 11.354 101.893 11.354C101.557 11.354 101.281 11.424 101.067 11.564C100.861 11.6947 100.707 11.872 100.605 12.096C100.53 12.2173 100.423 12.278 100.283 12.278H99.1766C99.0739 12.278 98.9946 12.25 98.9386 12.194C98.8919 12.138 98.8686 12.0633 98.8686 11.97C98.8779 11.8207 98.9386 11.6387 99.0506 11.424C99.1626 11.2093 99.3399 11.004 99.5826 10.808C99.8252 10.6027 100.138 10.43 100.521 10.29C100.903 10.15 101.365 10.08 101.907 10.08C102.495 10.08 102.989 10.1547 103.391 10.304C103.801 10.444 104.128 10.6353 104.371 10.878C104.613 11.1207 104.791 11.4053 104.903 11.732C105.015 12.0587 105.071 12.404 105.071 12.768V17.164C105.071 17.2573 105.038 17.3367 104.973 17.402C104.907 17.4673 104.828 17.5 104.735 17.5H103.601C103.498 17.5 103.414 17.4673 103.349 17.402C103.293 17.3367 103.265 17.2573 103.265 17.164V16.618C103.143 16.7953 102.98 16.9633 102.775 17.122C102.569 17.2713 102.317 17.3973 102.019 17.5C101.729 17.5933 101.384 17.64 100.983 17.64ZM101.459 16.31C101.785 16.31 102.079 16.24 102.341 16.1C102.611 15.96 102.821 15.7453 102.971 15.456C103.129 15.1573 103.209 14.784 103.209 14.336V14.042L101.809 14.266C101.258 14.35 100.847 14.4853 100.577 14.672C100.306 14.8587 100.171 15.0873 100.171 15.358C100.171 15.5633 100.231 15.7407 100.353 15.89C100.483 16.03 100.647 16.1373 100.843 16.212C101.039 16.2773 101.244 16.31 101.459 16.31ZM107.991 20.16C107.917 20.16 107.851 20.132 107.795 20.076C107.739 20.02 107.711 19.9547 107.711 19.88C107.711 19.8427 107.711 19.8053 107.711 19.768C107.721 19.74 107.739 19.7027 107.767 19.656L108.859 17.066L106.171 10.724C106.134 10.6307 106.115 10.5653 106.115 10.528C106.125 10.444 106.157 10.374 106.213 10.318C106.269 10.2527 106.339 10.22 106.423 10.22H107.557C107.669 10.22 107.753 10.248 107.809 10.304C107.865 10.36 107.907 10.4207 107.935 10.486L109.797 15.064L111.715 10.486C111.743 10.4113 111.785 10.3507 111.841 10.304C111.897 10.248 111.981 10.22 112.093 10.22H113.213C113.288 10.22 113.353 10.248 113.409 10.304C113.475 10.36 113.507 10.4253 113.507 10.5C113.507 10.556 113.489 10.6307 113.451 10.724L109.489 19.894C109.452 19.9687 109.405 20.0293 109.349 20.076C109.293 20.132 109.209 20.16 109.097 20.16H107.991ZM115.064 17.5C114.971 17.5 114.892 17.4673 114.826 17.402C114.761 17.3367 114.728 17.2573 114.728 17.164V7.896C114.728 7.80267 114.761 7.72333 114.826 7.658C114.892 7.59267 114.971 7.56 115.064 7.56H116.226C116.32 7.56 116.399 7.59267 116.464 7.658C116.53 7.72333 116.562 7.80267 116.562 7.896V17.164C116.562 17.2573 116.53 17.3367 116.464 17.402C116.399 17.4673 116.32 17.5 116.226 17.5H115.064ZM119.056 17.5C118.963 17.5 118.883 17.4673 118.818 17.402C118.753 17.3367 118.72 17.2573 118.72 17.164V10.556C118.72 10.4627 118.753 10.3833 118.818 10.318C118.883 10.2527 118.963 10.22 119.056 10.22H120.218C120.321 10.22 120.4 10.2527 120.456 10.318C120.521 10.3833 120.554 10.4627 120.554 10.556V17.164C120.554 17.2573 120.521 17.3367 120.456 17.402C120.4 17.4673 120.321 17.5 120.218 17.5H119.056ZM119 9.016C118.897 9.016 118.813 8.988 118.748 8.932C118.692 8.86667 118.664 8.78267 118.664 8.68V7.672C118.664 7.57867 118.692 7.49933 118.748 7.434C118.813 7.36867 118.897 7.336 119 7.336H120.274C120.377 7.336 120.461 7.36867 120.526 7.434C120.591 7.49933 120.624 7.57867 120.624 7.672V8.68C120.624 8.78267 120.591 8.86667 120.526 8.932C120.461 8.988 120.377 9.016 120.274 9.016H119ZM125.334 17.64C124.774 17.64 124.293 17.5747 123.892 17.444C123.5 17.3133 123.178 17.15 122.926 16.954C122.674 16.758 122.487 16.562 122.366 16.366C122.244 16.17 122.179 16.0067 122.17 15.876C122.16 15.7733 122.188 15.694 122.254 15.638C122.328 15.5727 122.408 15.54 122.492 15.54H123.598C123.635 15.54 123.668 15.5447 123.696 15.554C123.724 15.5633 123.761 15.5913 123.808 15.638C123.929 15.7407 124.055 15.848 124.186 15.96C124.326 16.072 124.489 16.17 124.676 16.254C124.862 16.3287 125.096 16.366 125.376 16.366C125.74 16.366 126.043 16.296 126.286 16.156C126.538 16.0067 126.664 15.7967 126.664 15.526C126.664 15.33 126.608 15.1713 126.496 15.05C126.393 14.9287 126.197 14.8213 125.908 14.728C125.618 14.6253 125.208 14.518 124.676 14.406C124.153 14.2847 123.719 14.1307 123.374 13.944C123.028 13.7573 122.772 13.524 122.604 13.244C122.436 12.964 122.352 12.6373 122.352 12.264C122.352 11.9 122.459 11.5547 122.674 11.228C122.898 10.892 123.224 10.6167 123.654 10.402C124.092 10.1873 124.634 10.08 125.278 10.08C125.782 10.08 126.22 10.1453 126.594 10.276C126.967 10.3973 127.275 10.5513 127.518 10.738C127.77 10.9247 127.961 11.116 128.092 11.312C128.222 11.4987 128.292 11.662 128.302 11.802C128.311 11.9047 128.283 11.9887 128.218 12.054C128.152 12.11 128.078 12.138 127.994 12.138H126.958C126.911 12.138 126.869 12.1287 126.832 12.11C126.794 12.0913 126.757 12.068 126.72 12.04C126.617 11.9467 126.505 11.8487 126.384 11.746C126.262 11.6433 126.113 11.5547 125.936 11.48C125.768 11.396 125.544 11.354 125.264 11.354C124.909 11.354 124.638 11.4333 124.452 11.592C124.265 11.7413 124.172 11.9327 124.172 12.166C124.172 12.3247 124.214 12.4647 124.298 12.586C124.391 12.698 124.573 12.8053 124.844 12.908C125.114 13.0107 125.525 13.118 126.076 13.23C126.701 13.342 127.196 13.51 127.56 13.734C127.933 13.9487 128.194 14.2007 128.344 14.49C128.502 14.77 128.582 15.0827 128.582 15.428C128.582 15.848 128.456 16.226 128.204 16.562C127.961 16.898 127.597 17.164 127.112 17.36C126.636 17.5467 126.043 17.64 125.334 17.64ZM133.289 17.5C132.729 17.5 132.258 17.402 131.875 17.206C131.493 17.01 131.208 16.7207 131.021 16.338C130.835 15.946 130.741 15.4607 130.741 14.882V11.704H129.635C129.542 11.704 129.463 11.6713 129.397 11.606C129.332 11.5407 129.299 11.4613 129.299 11.368V10.556C129.299 10.4627 129.332 10.3833 129.397 10.318C129.463 10.2527 129.542 10.22 129.635 10.22H130.741V7.896C130.741 7.80267 130.769 7.72333 130.825 7.658C130.891 7.59267 130.975 7.56 131.077 7.56H132.211C132.305 7.56 132.384 7.59267 132.449 7.658C132.515 7.72333 132.547 7.80267 132.547 7.896V10.22H134.297C134.391 10.22 134.47 10.2527 134.535 10.318C134.601 10.3833 134.633 10.4627 134.633 10.556V11.368C134.633 11.4613 134.601 11.5407 134.535 11.606C134.47 11.6713 134.391 11.704 134.297 11.704H132.547V14.742C132.547 15.1247 132.613 15.4233 132.743 15.638C132.883 15.8527 133.121 15.96 133.457 15.96H134.423C134.517 15.96 134.596 15.9927 134.661 16.058C134.727 16.1233 134.759 16.2027 134.759 16.296V17.164C134.759 17.2573 134.727 17.3367 134.661 17.402C134.596 17.4673 134.517 17.5 134.423 17.5H133.289ZM138.759 17.64C138.199 17.64 137.719 17.5747 137.317 17.444C136.925 17.3133 136.603 17.15 136.351 16.954C136.099 16.758 135.913 16.562 135.791 16.366C135.67 16.17 135.605 16.0067 135.595 15.876C135.586 15.7733 135.614 15.694 135.679 15.638C135.754 15.5727 135.833 15.54 135.917 15.54H137.023C137.061 15.54 137.093 15.5447 137.121 15.554C137.149 15.5633 137.187 15.5913 137.233 15.638C137.355 15.7407 137.481 15.848 137.611 15.96C137.751 16.072 137.915 16.17 138.101 16.254C138.288 16.3287 138.521 16.366 138.801 16.366C139.165 16.366 139.469 16.296 139.711 16.156C139.963 16.0067 140.089 15.7967 140.089 15.526C140.089 15.33 140.033 15.1713 139.921 15.05C139.819 14.9287 139.623 14.8213 139.333 14.728C139.044 14.6253 138.633 14.518 138.101 14.406C137.579 14.2847 137.145 14.1307 136.799 13.944C136.454 13.7573 136.197 13.524 136.029 13.244C135.861 12.964 135.777 12.6373 135.777 12.264C135.777 11.9 135.885 11.5547 136.099 11.228C136.323 10.892 136.65 10.6167 137.079 10.402C137.518 10.1873 138.059 10.08 138.703 10.08C139.207 10.08 139.646 10.1453 140.019 10.276C140.393 10.3973 140.701 10.5513 140.943 10.738C141.195 10.9247 141.387 11.116 141.517 11.312C141.648 11.4987 141.718 11.662 141.727 11.802C141.737 11.9047 141.709 11.9887 141.643 12.054C141.578 12.11 141.503 12.138 141.419 12.138H140.383C140.337 12.138 140.295 12.1287 140.257 12.11C140.22 12.0913 140.183 12.068 140.145 12.04C140.043 11.9467 139.931 11.8487 139.809 11.746C139.688 11.6433 139.539 11.5547 139.361 11.48C139.193 11.396 138.969 11.354 138.689 11.354C138.335 11.354 138.064 11.4333 137.877 11.592C137.691 11.7413 137.597 11.9327 137.597 12.166C137.597 12.3247 137.639 12.4647 137.723 12.586C137.817 12.698 137.999 12.8053 138.269 12.908C138.54 13.0107 138.951 13.118 139.501 13.23C140.127 13.342 140.621 13.51 140.985 13.734C141.359 13.9487 141.62 14.2007 141.769 14.49C141.928 14.77 142.007 15.0827 142.007 15.428C142.007 15.848 141.881 16.226 141.629 16.562C141.387 16.898 141.023 17.164 140.537 17.36C140.061 17.5467 139.469 17.64 138.759 17.64ZM147.156 17.5C147.062 17.5 146.983 17.4673 146.918 17.402C146.852 17.3367 146.82 17.2573 146.82 17.164V8.05C146.82 7.94733 146.852 7.86333 146.918 7.798C146.983 7.73267 147.062 7.7 147.156 7.7H148.234C148.364 7.7 148.458 7.73267 148.514 7.798C148.579 7.854 148.621 7.896 148.64 7.924L152.672 14.196V8.05C152.672 7.94733 152.7 7.86333 152.756 7.798C152.821 7.73267 152.905 7.7 153.008 7.7H154.184C154.286 7.7 154.37 7.73267 154.436 7.798C154.501 7.86333 154.534 7.94733 154.534 8.05V17.15C154.534 17.2527 154.501 17.3367 154.436 17.402C154.37 17.4673 154.291 17.5 154.198 17.5H153.106C152.975 17.5 152.882 17.4673 152.826 17.402C152.77 17.3367 152.728 17.2947 152.7 17.276L148.682 11.144V17.164C148.682 17.2573 148.649 17.3367 148.584 17.402C148.518 17.4673 148.434 17.5 148.332 17.5H147.156ZM158.664 17.64C158.179 17.64 157.74 17.5467 157.348 17.36C156.956 17.164 156.644 16.9073 156.41 16.59C156.186 16.2633 156.074 15.8993 156.074 15.498C156.074 14.8447 156.336 14.3267 156.858 13.944C157.39 13.552 158.09 13.2907 158.958 13.16L160.876 12.88V12.586C160.876 12.194 160.778 11.8907 160.582 11.676C160.386 11.4613 160.05 11.354 159.574 11.354C159.238 11.354 158.963 11.424 158.748 11.564C158.543 11.6947 158.389 11.872 158.286 12.096C158.212 12.2173 158.104 12.278 157.964 12.278H156.858C156.756 12.278 156.676 12.25 156.62 12.194C156.574 12.138 156.55 12.0633 156.55 11.97C156.56 11.8207 156.62 11.6387 156.732 11.424C156.844 11.2093 157.022 11.004 157.264 10.808C157.507 10.6027 157.82 10.43 158.202 10.29C158.585 10.15 159.047 10.08 159.588 10.08C160.176 10.08 160.671 10.1547 161.072 10.304C161.483 10.444 161.81 10.6353 162.052 10.878C162.295 11.1207 162.472 11.4053 162.584 11.732C162.696 12.0587 162.752 12.404 162.752 12.768V17.164C162.752 17.2573 162.72 17.3367 162.654 17.402C162.589 17.4673 162.51 17.5 162.416 17.5H161.282C161.18 17.5 161.096 17.4673 161.03 17.402C160.974 17.3367 160.946 17.2573 160.946 17.164V16.618C160.825 16.7953 160.662 16.9633 160.456 17.122C160.251 17.2713 159.999 17.3973 159.7 17.5C159.411 17.5933 159.066 17.64 158.664 17.64ZM159.14 16.31C159.467 16.31 159.761 16.24 160.022 16.1C160.293 15.96 160.503 15.7453 160.652 15.456C160.811 15.1573 160.89 14.784 160.89 14.336V14.042L159.49 14.266C158.94 14.35 158.529 14.4853 158.258 14.672C157.988 14.8587 157.852 15.0873 157.852 15.358C157.852 15.5633 157.913 15.7407 158.034 15.89C158.165 16.03 158.328 16.1373 158.524 16.212C158.72 16.2773 158.926 16.31 159.14 16.31ZM164.884 17.5C164.791 17.5 164.712 17.4673 164.646 17.402C164.581 17.3367 164.548 17.2573 164.548 17.164V10.556C164.548 10.4627 164.581 10.3833 164.646 10.318C164.712 10.2527 164.791 10.22 164.884 10.22H165.976C166.07 10.22 166.149 10.2527 166.214 10.318C166.28 10.3833 166.312 10.4627 166.312 10.556V11.032C166.508 10.7707 166.77 10.5513 167.096 10.374C167.432 10.1873 167.829 10.0893 168.286 10.08C169.35 10.0613 170.092 10.4767 170.512 11.326C170.727 10.9527 171.035 10.654 171.436 10.43C171.847 10.1967 172.3 10.08 172.794 10.08C173.28 10.08 173.718 10.192 174.11 10.416C174.512 10.64 174.824 10.9807 175.048 11.438C175.282 11.886 175.398 12.4553 175.398 13.146V17.164C175.398 17.2573 175.366 17.3367 175.3 17.402C175.235 17.4673 175.156 17.5 175.062 17.5H173.914C173.821 17.5 173.742 17.4673 173.676 17.402C173.611 17.3367 173.578 17.2573 173.578 17.164V13.258C173.578 12.838 173.518 12.5067 173.396 12.264C173.275 12.012 173.112 11.8347 172.906 11.732C172.701 11.6293 172.472 11.578 172.22 11.578C172.015 11.578 171.81 11.6293 171.604 11.732C171.399 11.8347 171.231 12.012 171.1 12.264C170.97 12.5067 170.904 12.838 170.904 13.258V17.164C170.904 17.2573 170.872 17.3367 170.806 17.402C170.741 17.4673 170.662 17.5 170.568 17.5H169.42C169.318 17.5 169.234 17.4673 169.168 17.402C169.112 17.3367 169.084 17.2573 169.084 17.164V13.258C169.084 12.838 169.019 12.5067 168.888 12.264C168.758 12.012 168.59 11.8347 168.384 11.732C168.179 11.6293 167.96 11.578 167.726 11.578C167.512 11.578 167.302 11.634 167.096 11.746C166.891 11.8487 166.723 12.0213 166.592 12.264C166.462 12.5067 166.396 12.838 166.396 13.258V17.164C166.396 17.2573 166.364 17.3367 166.298 17.402C166.233 17.4673 166.154 17.5 166.06 17.5H164.884ZM180.317 17.64C179.281 17.64 178.46 17.3413 177.853 16.744C177.246 16.1467 176.92 15.2973 176.873 14.196C176.864 14.1027 176.859 13.986 176.859 13.846C176.859 13.6967 176.864 13.58 176.873 13.496C176.91 12.796 177.069 12.1893 177.349 11.676C177.638 11.1627 178.035 10.7707 178.539 10.5C179.043 10.22 179.636 10.08 180.317 10.08C181.073 10.08 181.708 10.2387 182.221 10.556C182.734 10.864 183.122 11.298 183.383 11.858C183.644 12.4087 183.775 13.048 183.775 13.776V14.07C183.775 14.1633 183.742 14.2427 183.677 14.308C183.612 14.3733 183.528 14.406 183.425 14.406H178.777C178.777 14.406 178.777 14.42 178.777 14.448C178.777 14.476 178.777 14.4993 178.777 14.518C178.786 14.8447 178.847 15.148 178.959 15.428C179.08 15.6987 179.253 15.918 179.477 16.086C179.71 16.254 179.986 16.338 180.303 16.338C180.564 16.338 180.784 16.3007 180.961 16.226C181.138 16.142 181.283 16.0487 181.395 15.946C181.507 15.8433 181.586 15.7593 181.633 15.694C181.717 15.582 181.782 15.5167 181.829 15.498C181.885 15.47 181.964 15.456 182.067 15.456H183.271C183.364 15.456 183.439 15.484 183.495 15.54C183.56 15.596 183.588 15.666 183.579 15.75C183.57 15.8993 183.49 16.0813 183.341 16.296C183.201 16.5107 182.996 16.7207 182.725 16.926C182.454 17.1313 182.114 17.304 181.703 17.444C181.302 17.5747 180.84 17.64 180.317 17.64ZM178.777 13.23H181.871V13.188C181.871 12.824 181.81 12.5067 181.689 12.236C181.568 11.9653 181.39 11.7507 181.157 11.592C180.924 11.4333 180.644 11.354 180.317 11.354C179.99 11.354 179.71 11.4333 179.477 11.592C179.244 11.7507 179.066 11.9653 178.945 12.236C178.833 12.5067 178.777 12.824 178.777 13.188V13.23Z" fill="white"/>
</svg></div>

    <h3>{card?.lists?.length} Videos</h3>
    </div>
  );
};

const CardReorder = ({cards, setCards,fetchCardLists}) => {
  const { api } = useAuth();

  const moveCard = (fromIndex, toIndex) => {
    const updatedCards = [...cards];
    const [movedCard] = updatedCards.splice(fromIndex, 1);
    updatedCards.splice(toIndex, 0, movedCard);
    setCards(updatedCards);
  };

 

  return (
    <DndProvider backend={HTML5Backend}>
      <div className="card-container">
        <div className="card-list">
          {cards.map((card, index) => (
            <Card fetchCardLists={fetchCardLists}  key={card._id} card={card} index={index} moveCard={moveCard} />
          ))}
        </div>
       
      </div>
    </DndProvider>
  );
};

export default CardReorder;
